PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE motion_event(
motion_id INTEGER PRIMARY KEY AUTOINCREMENT,
begin_ts INTEGER NOT NULL,
end_ts INTEGER NOT NULL,
index_path TEXT NOT NULL);
CREATE TABLE motion_blob(
blob_id INTEGER PRIMARY KEY AUTOINCREMENT,
event_id INTEGER,
ts INTEGER NOT NULL,
x INTEGER NOT NULL,
y INTEGER NOT NULL,
width INTEGER NOT NULL,
height INTEGER NOT NULL,
frame_num INTEGER,
FOREIGN KEY (event_id) REFERENCES motion_event(id)
);
COMMIT;
